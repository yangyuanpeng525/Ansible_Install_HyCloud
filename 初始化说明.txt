#操作步骤:
1、打开当前目录下的：install_hy_list.txt
2、根据实际的部署安排，选择需要使用ansible自动化工具安装的第三方、TRS应用、海云应用。
3、选择部署模式为：单机、集群
4、选择完成之后执行  ./ansible_init.sh 等待大约5分钟初始化完成。


#脚本功能介绍
1、ansible_init.sh   --主程序（只需要执行这一个脚本即可完成ansible master主机的初始化）

	功能一：检测输入的ansible master的ip 端口 root密码是否正确，有误直接退出，不再进行任何操作。

	功能二：检测ansible master的ansible环境是否正常，若ansible未安装，自动安装docker版ansible工具，并将/TRS整个目录挂载到容器内，不影响ansible自动化工具的使用。

	功能三：根据install_hy_list.txt清单列表自动下载已选的第三方、TRS应用、海云应用，存储在本机当前路径下的tmp-*中，下载模式采用 各个应用单独 下载，有单独的下载成功/失败提示（类似于断点续传），能准确定位下载错误。

	功能四：将本机当前路径下的tmp-*中的ansible自动化工具传输到ansible master主机的制定目录--/TRS/ansible-hy,并将单个应用分组整合，一共分为三组：基础、TRS应用、海云应用，并自动生成mail.yml，支持一键部署当前组内的全部应用。


2、ansibletool_install.sh   --检测并安装ansible。

3、integration.sh  --整合并分组单个应用的ansible安装工具，支持一键部署。

***注意***
inventory  文件需要先填写《海云V8.0精简版部署信息表.xls》/《海云V8.0标准版部署信息表.xls》后，使用研发中心提供的excel-tool-0.0.1-SNAPSHOT.jar工具自动生成ansible需要的inventory文件
工具使用方法：java -jar   excel-tool-0.0.1-SNAPSHOT.jar    海云V8.0精简版部署信息表.xls   inventory
